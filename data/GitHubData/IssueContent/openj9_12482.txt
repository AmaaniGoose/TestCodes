If we want to generate JIT code before a snapshot is taken, we would probably need to make sure it is "portable JIT" code in a manner similar to what we do presently for "portable AOT" code since it will be persisted in container images and run on different CPU architecture versions. We would also likely need to generate JITed code that is portable across different compressed refs shifts so that we can handle different heap sizes (and different container memory limits) with the JITed code that gets persisted in the snapshot. 